pkgname=rapidxml
_gitname='source-git'
pkgver=1.13
pkgrel=3
pkgdesc="RapidXml is an attempt to create the fastest XML parser possible, written in modern C++."
arch=("any")
url=""
license=('Boost/MIT')
provides=("rapidxml")
_pkgname="RapidXml"
source=("${_gitname}::git://github.com/hydranix/RapidXml"
        "0001-fix-for-a-bug-in-gcc-that-won-t-let-rapidxml-compile.patch")
md5sums=('SKIP'
         'bd65f50e0db040aa4894f32f3d5d5588')

prepare() {
  cd "${srcdir}/${_gitname}"
  for f in "$srcdir"/*.patch; do patch -p1 < "$f"; done
}

package()
{
  mkdir -p "${pkgdir}/usr/include/rapidxml"
  install -Dm644 "${srcdir}/${_gitname}/rapidxml.hpp" "${pkgdir}/usr/include/${pkgname}/rapidxml.hpp"
  install -Dm644 "${srcdir}/${_gitname}/rapidxml_iterators.hpp" "${pkgdir}/usr/include/${pkgname}/rapidxml_iterators.hpp"
  install -Dm644 "${srcdir}/${_gitname}/rapidxml_print.hpp" "${pkgdir}/usr/include/${pkgname}/rapidxml_print.hpp"
  install -Dm644 "${srcdir}/${_gitname}/rapidxml_utils.hpp" "${pkgdir}/usr/include/${pkgname}/rapidxml_utils.hpp"
  install -Dm644 "${srcdir}/${_gitname}/license.txt" "${pkgdir}/usr/share/licenses/${pkgname}/license.txt"
  install -Dm644 "${srcdir}/${_gitname}/manual.html" "${pkgdir}/usr/share/doc/${pkgname}/manual.html"
}
